{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\m_obr\\\\OneDrive\\\\Documents\\\\GitHub\\\\TEST\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\m_obr\\\\OneDrive\\\\Documents\\\\GitHub\\\\TEST\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\m_obr\\\\OneDrive\\\\Documents\\\\GitHub\\\\TEST\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\m_obr\\\\OneDrive\\\\Documents\\\\GitHub\\\\TEST\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\m_obr\\\\OneDrive\\\\Documents\\\\GitHub\\\\TEST\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\m_obr\\\\OneDrive\\\\Documents\\\\GitHub\\\\TEST\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";/*global chrome*/ /*\r\n *   Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n\r\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\r\n *  You may not use this file except in compliance with the License.\r\n *  A copy of the License is located at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *  or in the \"license\" file accompanying this file. This file is distributed\r\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\r\n *  express or implied. See the License for the specific language governing\r\n *  permissions and limitations under the License.\r\n */import React from'react';import{Auth}from'aws-amplify';import DynamicImage from'../components/DynamicImage';import{withRouter}from'react-router-dom';import SiteNav from'../components/SiteNav';import'../css/app.css';/**\r\n * Sign-in Page\r\n */var SignIn=/*#__PURE__*/function(_React$Component){_inherits(SignIn,_React$Component);var _super=_createSuper(SignIn);function SignIn(props){var _this;_classCallCheck(this,SignIn);_this=_super.call(this,props);_this.state={stage:0,email:'',password:'',code:'',userObject:null};return _this;}_createClass(SignIn,[{key:\"onSubmitForm\",value:function(){var _onSubmitForm=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var userObject,session;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return Auth.signIn(this.state.email.replace(/[@.]/g,'|'),this.state.password);case 4:userObject=_context.sent;console.log('userObject',userObject);if(!userObject.challengeName){_context.next=10;break;}// Auth challenges are pending prior to token issuance\nthis.setState({userObject:userObject,stage:1});_context.next=16;break;case 10:_context.next=12;return Auth.currentSession();case 12:session=_context.sent;// console.log('Cognito User Access Token:', session.getAccessToken().getJwtToken());\nconsole.log('Cognito User Identity Token:',session.getIdToken().getJwtToken());// console.log('Cognito User Refresh Token', session.getRefreshToken().getToken());\nthis.setState({stage:0,email:'',password:'',code:''});this.props.history.replace('/app');case 16:_context.next=22;break;case 18:_context.prev=18;_context.t0=_context[\"catch\"](1);alert(_context.t0.message);console.error('Auth.signIn(): ',_context.t0);case 22:case\"end\":return _context.stop();}}},_callee,this,[[1,18]]);}));function onSubmitForm(_x){return _onSubmitForm.apply(this,arguments);}return onSubmitForm;}()},{key:\"onSubmitVerification\",value:function(){var _onSubmitVerification=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var data,session,extensionID;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.prev=1;_context2.next=4;return Auth.confirmSignIn(this.state.userObject,this.state.code);case 4:data=_context2.sent;console.log('Cognito User Data:',data);_context2.next=8;return Auth.currentSession();case 8:session=_context2.sent;extensionID='mlinphabknpbglbihhlfpifmcichlopo';chrome.runtime.sendMessage(extensionID,session,function(response){console.log(response);});// console.log('Cognito User Access Token:', session.getAccessToken().getJwtToken());\nconsole.log('Cognito User Identity Token:',session.getIdToken().getJwtToken());// console.log('Cognito User Refresh Token', session.getRefreshToken().getToken());\nthis.setState({stage:0,email:'',password:'',code:''});this.props.history.replace('/app');_context2.next=20;break;case 16:_context2.prev=16;_context2.t0=_context2[\"catch\"](1);alert(_context2.t0.message);console.error('Auth.confirmSignIn(): ',_context2.t0);case 20:case\"end\":return _context2.stop();}}},_callee2,this,[[1,16]]);}));function onSubmitVerification(_x2){return _onSubmitVerification.apply(this,arguments);}return onSubmitVerification;}()},{key:\"onEmailChanged\",value:function onEmailChanged(e){this.setState({email:e.target.value.toLowerCase()});}},{key:\"onPasswordChanged\",value:function onPasswordChanged(e){this.setState({password:e.target.value});}},{key:\"onCodeChanged\",value:function onCodeChanged(e){this.setState({code:e.target.value});}},{key:\"isValidEmail\",value:function isValidEmail(email){var re=/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;return re.test(String(email).toLowerCase());}},{key:\"renderSignIn\",value:function renderSignIn(){var _this2=this;var isValidEmail=this.isValidEmail(this.state.email);var isValidPassword=this.state.password.length>1;return/*#__PURE__*/React.createElement(\"div\",{className:\"app\"},/*#__PURE__*/React.createElement(\"header\",null,/*#__PURE__*/React.createElement(DynamicImage,{src:\"logo.png\"})),/*#__PURE__*/React.createElement(\"section\",{className:\"form-wrap\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Sign in\"),/*#__PURE__*/React.createElement(SiteNav,null),/*#__PURE__*/React.createElement(\"form\",{id:\"registrationForm\",onSubmit:function onSubmit(e){return _this2.onSubmitForm(e);}},/*#__PURE__*/React.createElement(\"input\",{className:isValidEmail?'valid':'invalid',type:\"email\",placeholder:\"Email\",value:this.state.email,onChange:function onChange(e){return _this2.onEmailChanged(e);}}),/*#__PURE__*/React.createElement(\"input\",{className:isValidPassword?'valid':'invalid',type:\"password\",placeholder:\"Password\",value:this.state.password,onChange:function onChange(e){return _this2.onPasswordChanged(e);}}),/*#__PURE__*/React.createElement(\"input\",{disabled:!(isValidEmail&&isValidPassword),type:\"submit\",value:\"Let's Ryde\"}))));}},{key:\"renderConfirm\",value:function renderConfirm(){var _this3=this;var isValidEmail=this.isValidEmail(this.state.email);var isValidCode=this.state.code.length===6;return/*#__PURE__*/React.createElement(\"div\",{className:\"app\"},/*#__PURE__*/React.createElement(\"header\",null,/*#__PURE__*/React.createElement(DynamicImage,{src:\"logo.png\"})),/*#__PURE__*/React.createElement(\"section\",{className:\"form-wrap\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Enter MFA Code\"),/*#__PURE__*/React.createElement(\"form\",{id:\"verifyForm\",onSubmit:function onSubmit(e){return _this3.onSubmitVerification(e);}},/*#__PURE__*/React.createElement(\"input\",{className:isValidEmail?'valid':'invalid',type:\"email\",placeholder:\"Email\",value:this.state.email}),/*#__PURE__*/React.createElement(\"input\",{className:isValidCode?'valid':'invalid',type:\"text\",placeholder:\"Verification Code\",value:this.state.code,onChange:function onChange(e){return _this3.onCodeChanged(e);}}),/*#__PURE__*/React.createElement(\"input\",{disabled:!(isValidCode&&isValidEmail),type:\"submit\",value:\"Verify\"}))));}},{key:\"render\",value:function render(){switch(this.state.stage){case 0:default:return this.renderSignIn();case 1:return this.renderConfirm();}}}]);return SignIn;}(React.Component);export default withRouter(SignIn);","map":{"version":3,"sources":["C:/Users/m_obr/OneDrive/Documents/GitHub/TEST/src/auth/SignIn.js"],"names":["React","Auth","DynamicImage","withRouter","SiteNav","SignIn","props","state","stage","email","password","code","userObject","e","preventDefault","signIn","replace","console","log","challengeName","setState","currentSession","session","getIdToken","getJwtToken","history","alert","message","error","confirmSignIn","data","extensionID","chrome","runtime","sendMessage","response","target","value","toLowerCase","re","test","String","isValidEmail","isValidPassword","length","onSubmitForm","onEmailChanged","onPasswordChanged","isValidCode","onSubmitVerification","onCodeChanged","renderSignIn","renderConfirm","Component"],"mappings":"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","sourcesContent":["/*global chrome*/\r\n\r\n/*\r\n *   Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n\r\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\r\n *  You may not use this file except in compliance with the License.\r\n *  A copy of the License is located at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *  or in the \"license\" file accompanying this file. This file is distributed\r\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\r\n *  express or implied. See the License for the specific language governing\r\n *  permissions and limitations under the License.\r\n */\r\nimport React from 'react';\r\nimport { Auth } from 'aws-amplify';\r\nimport DynamicImage from '../components/DynamicImage';\r\nimport { withRouter } from 'react-router-dom';\r\nimport SiteNav from '../components/SiteNav';\r\n\r\nimport '../css/app.css';\r\n\r\n/**\r\n * Sign-in Page\r\n */\r\nclass SignIn extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      stage: 0,\r\n      email: '',\r\n      password: '',\r\n      code: '',\r\n      userObject: null\r\n    };\r\n  }\r\n\r\n  async onSubmitForm(e) {\r\n    e.preventDefault();\r\n    try {\r\n        const userObject = await Auth.signIn(\r\n            this.state.email.replace(/[@.]/g, '|'),\r\n            this.state.password\r\n        );\r\n        console.log('userObject', userObject);\r\n        if (userObject.challengeName) {\r\n            // Auth challenges are pending prior to token issuance\r\n            this.setState({ userObject, stage: 1 });\r\n        } else {\r\n            // No remaining auth challenges need to be satisfied\r\n            const session = await Auth.currentSession();\r\n            // console.log('Cognito User Access Token:', session.getAccessToken().getJwtToken());\r\n            console.log('Cognito User Identity Token:', session.getIdToken().getJwtToken());\r\n            // console.log('Cognito User Refresh Token', session.getRefreshToken().getToken());\r\n            this.setState({ stage: 0, email: '', password: '', code: '' });\r\n            this.props.history.replace('/app');\r\n        }\r\n    } catch (err) {\r\n        alert(err.message);\r\n        console.error('Auth.signIn(): ', err);\r\n    }\r\n}\r\n\r\nasync onSubmitVerification(e) {\r\n  e.preventDefault();\r\n  try {\r\n      const data = await Auth.confirmSignIn(\r\n      this.state.userObject,\r\n      this.state.code\r\n      );\r\n      console.log('Cognito User Data:', data);\r\n      const session = await Auth.currentSession();\r\n      \r\n      const extensionID = 'mlinphabknpbglbihhlfpifmcichlopo';\r\n\r\n      chrome.runtime.sendMessage(extensionID, session,\r\n              function(response) {\r\n                  console.log(response);     \r\n              });\r\n      // console.log('Cognito User Access Token:', session.getAccessToken().getJwtToken());\r\n      console.log('Cognito User Identity Token:', session.getIdToken().getJwtToken());\r\n      // console.log('Cognito User Refresh Token', session.getRefreshToken().getToken());\r\n      this.setState({ stage: 0, email: '', password: '', code: '' });\r\n      this.props.history.replace('/app');\r\n  } catch (err) {\r\n      alert(err.message);\r\n      console.error('Auth.confirmSignIn(): ', err);\r\n  }\r\n}\r\n\r\n  onEmailChanged(e) {\r\n    this.setState({ email: e.target.value.toLowerCase() });\r\n  }\r\n\r\n  onPasswordChanged(e) {\r\n    this.setState({ password: e.target.value });\r\n  }\r\n\r\n  onCodeChanged(e) {\r\n    this.setState({ code: e.target.value });\r\n  }\r\n\r\n  isValidEmail(email) {\r\n    var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(String(email).toLowerCase());\r\n  }\r\n\r\n  renderSignIn() {\r\n    const isValidEmail = this.isValidEmail(this.state.email);\r\n    const isValidPassword = this.state.password.length > 1;\r\n\r\n    return (\r\n      <div className=\"app\">\r\n        <header>\r\n          <DynamicImage src=\"logo.png\"/>\r\n        </header>\r\n        <section className=\"form-wrap\">\r\n          <h1>Sign in</h1>\r\n          <SiteNav/>\r\n          <form id=\"registrationForm\" onSubmit={(e) => this.onSubmitForm(e)}>\r\n            <input className={isValidEmail?'valid':'invalid'} type=\"email\" placeholder=\"Email\" value={this.state.email} onChange={(e) => this.onEmailChanged(e)}/>\r\n            <input className={isValidPassword?'valid':'invalid'} type=\"password\" placeholder=\"Password\" value={this.state.password} onChange={(e) => this.onPasswordChanged(e)}/>\r\n            <input disabled={!(isValidEmail && isValidPassword)} type=\"submit\" value=\"Let's Ryde\"/>\r\n          </form>\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderConfirm() {\r\n    const isValidEmail = this.isValidEmail(this.state.email);\r\n    const isValidCode = this.state.code.length === 6;\r\n\r\n    return (\r\n      <div className=\"app\">\r\n        <header>\r\n          <DynamicImage src=\"logo.png\"/>\r\n        </header>\r\n        <section className=\"form-wrap\">\r\n          <h1>Enter MFA Code</h1>\r\n          <form id=\"verifyForm\" onSubmit={(e) => this.onSubmitVerification(e)}>\r\n            <input className={isValidEmail?'valid':'invalid'} type=\"email\" placeholder=\"Email\" value={this.state.email}/>\r\n            <input className={isValidCode?'valid':'invalid'} type=\"text\" placeholder=\"Verification Code\" value={this.state.code} onChange={(e) => this.onCodeChanged(e)}/>\r\n            <input disabled={!(isValidCode&&isValidEmail)} type=\"submit\" value=\"Verify\"/>\r\n          </form>\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    switch (this.state.stage) {\r\n      case 0:\r\n      default:\r\n        return this.renderSignIn();\r\n      case 1:\r\n        return this.renderConfirm();\r\n    }\r\n  }\r\n}\r\n\r\nexport default withRouter(SignIn);\r\n\r\n"]},"metadata":{},"sourceType":"module"}