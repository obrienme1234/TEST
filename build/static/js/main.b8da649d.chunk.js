(this["webpackJsonpwild-rydes-react"]=this["webpackJsonpwild-rydes-react"]||[]).push([[0],{199:function(e,t,a){},210:function(e,t,a){e.exports=a(693)},611:function(e,t,a){},68:function(e,t,a){},693:function(e,t,a){"use strict";a.r(t);var n=a(19),r=a(20),s=a(22),i=a(21),o=a(207),l=a(0),c=a.n(l),u=a(200),m=a.n(u),d=a(697),p=a(698),h=a(699),f=a(701),g=a(696),v=function(){return c.a.createElement("ul",null,[{url:"/",title:"Home"},{url:"/unicorns",title:"Meet the Unicorns"},{url:"/faq",title:"FAQ"},{url:"/profile",title:"Profile"},{url:"/register",title:"Register"},{url:"/signin",title:"Sign In"}].map((function(e,t){return c.a.createElement("li",{key:t},c.a.createElement(g.a,{to:e.url},e.title))})))},y=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={menuOpened:!1},r}return Object(r.a)(a,[{key:"onClick",value:function(e){this.setState({menuOpened:!this.state.menuOpened})}},{key:"render",value:function(){var e=this,t=this.state.menuOpened?"menu-opened":"menu-closed";return c.a.createElement("div",{className:t},c.a.createElement("nav",{className:"site-nav"},c.a.createElement(v,null)),c.a.createElement("button",{type:"button",className:"btn-menu",onClick:function(t){return e.onClick(t)}},c.a.createElement("span",null,"Menu")))}}]),a}(c.a.Component),E=function(){return c.a.createElement("div",{className:"row column"},c.a.createElement("div",{className:"footer-legal"},"\xa9WildRydes Inc",c.a.createElement("br",null),"All Rights Reserved"))},b=function(){return c.a.createElement("footer",{className:"site-footer"},c.a.createElement("div",{className:"row column"},c.a.createElement("nav",{className:"footer-nav"},c.a.createElement(v,null))),c.a.createElement(E,null))},w=(a(68),function(){return c.a.createElement("section",{className:"home-about"},c.a.createElement("div",{className:"row column large-9 xlarge-6 xxlarge-4"},c.a.createElement("h2",{className:"section-title"},"How Does This Work?"),c.a.createElement("p",{className:"content"},"In today\u2019s fast paced world, you\u2019ve got places you need to be but not enough time in your jam packed schedule. Wouldn\u2019t it be nice if there were a transportation service that changed the way you get around daily? Introducing Wild Rydes, an innovative transportation service that helps people get to their destination faster and hassle-free. Getting started is as easy as tapping a button in our app.")),c.a.createElement("div",{className:"row medium-up-2 large-up-4"},c.a.createElement("div",{className:"column"},c.a.createElement("div",{className:"home-about-block"},c.a.createElement("h3",{className:"title icon-download"},"Download The App"),c.a.createElement("p",{className:"content"},"Head over to the app store and download the Wild Rydes app. You\u2019re just a few taps away from getting your ryde."))),c.a.createElement("div",{className:"column"},c.a.createElement("div",{className:"home-about-block"},c.a.createElement("h3",{className:"title icon-unicorn"},"Request A Unicorn"),c.a.createElement("p",{className:"content"},"We can get you there. Simply request a ryde on the app and we'll connect you with a unicorn immediately."))),c.a.createElement("div",{className:"column"},c.a.createElement("div",{className:"home-about-block"},c.a.createElement("h3",{className:"title icon-price"},"Pick A Price"),c.a.createElement("p",{className:"content"},"Pick the valuation you're willing to pay and your ryde is set up. The only surge is the acceleration you get when taking off."))),c.a.createElement("div",{className:"column"},c.a.createElement("div",{className:"home-about-block"},c.a.createElement("h3",{className:"title icon-success"},"Ride Off To Success!"),c.a.createElement("p",{className:"content"},"After matching with your unicorn and agreeing to its terms, you\u2019ll be all set. Your unicorn will arrive shortly to pick you up.")))))}),k=function(){return c.a.createElement("section",{className:"home-story"},c.a.createElement("div",{className:"row column large-9 xlarge-6 xxlarge-4"},c.a.createElement("h2",{className:"section-title"},"Our Story"),c.a.createElement("p",{className:"content"},"Wild Rydes was started by a former hedge fund analyst and a software developer. The two long-time friends happened upon the Wild Rydes idea after attending a silent yoga retreat in Nevada. After gazing upon the majestic herds of unicorns prancing across a surreal Nevada sunset, they witnessed firsthand the poverty and unemployment endemic to that once proud race. Whether it was modern society\u2019s reliance on science over magic or not, we\u2019ll never know the cause of their Ozymandian downfall and fade to obscurity. Moved by empathy, romance, and free enterprise, they saw an opportunity to marry society\u2019s demand for faster, more flexible transportation to underutilized beasts of labor through an on-demand market making transportation app. Using the founders\u2019 respective expertise in animal husbandry and software engineering, Wild Rydes was formed and has since raised untold amounts of venture capital. Today, Wild Rydes has thousands of unicorns in its network fulfilling hundreds of rydes each day.")))},N=function(){return c.a.createElement("div",{className:"page-home"},c.a.createElement("header",{className:"site-header"},c.a.createElement("h1",{className:"title"},"Wild Rydes"),c.a.createElement(y,null),c.a.createElement(g.a,{className:"home-button",to:"/app"},"Giddy Up!")),c.a.createElement(w,null),c.a.createElement(k,null),c.a.createElement(b,null))},x=function(){return c.a.createElement("div",{className:"page-faq"},c.a.createElement("header",{className:"site-header"},c.a.createElement("div",{className:"site-logo"},"Wild Rydes"),c.a.createElement("div",{className:"row column medium-8 large-6 xlarge-5 xxlarge-4"},c.a.createElement("h1",{className:"title"},"Frequently Asked Questions")),c.a.createElement(y,null)),c.a.createElement("section",{className:"faq-list"},c.a.createElement("div",{className:"row column medium-10 large-8 xxlarge-6"},c.a.createElement("dl",null,c.a.createElement("dt",null,"Q: Why should I use this app?"),c.a.createElement("dd",null,"A: Coz i sed so.")))),c.a.createElement(b,null))},C=a(11),j=a.n(C),S=a(25),O=a(208),M=a(86),P=a(79),R=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={status:"loading"},r.esriOptions={url:"https://js.arcgis.com/4.6/"},r.style={container:{height:"100vh",width:"100vw"},map:{padding:0,margin:0,height:"100%",width:"100%"}},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(P.loadModules)(["esri/Map","esri/views/MapView"],this.esriOptions).then((function(t){var a=Object(M.a)(t,2),n=a[0],r=a[1],s=new n(e.props.mapOptions),i=new r(Object(O.a)({container:"esriMapView",map:s},e.props.viewOptions));i.then((function(){e.setState({map:s,view:i,status:"loaded"})}))}))}},{key:"render",value:function(){return c.a.createElement("div",{style:this.style.container},c.a.createElement("div",{id:"esriMapView",style:this.style.map},"loading"===this.state.status&&c.a.createElement("div",null,"Loading...")))}}]),a}(c.a.Component);R.defaultProps={mapOptions:{basemap:"gray-vector"},viewOptions:{zoom:12,center:[-122.31,47.6]}};var T=R,A=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={status:"loading"},r.esriOptions={url:"https://js.arcgis.com/4.6/"},r.style={container:{height:"100vh",width:"100vw"},map:{padding:0,margin:0,height:"100%",width:"100%"}},r}return Object(r.a)(a,[{key:"loadEsriModules",value:function(){var e=Object(S.a)(j.a.mark((function e(){var t,a,n,r,s,i,o,l,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.loadModules)(["esri/Map","esri/views/MapView","esri/Graphic","esri/geometry/Point","esri/symbols/TextSymbol","esri/symbols/PictureMarkerSymbol","esri/geometry/support/webMercatorUtils"],this.esriOptions);case 2:return t=e.sent,a=Object(M.a)(t,7),n=a[0],r=a[1],s=a[2],i=a[3],o=a[4],l=a[5],c=a[6],e.abrupt("return",{Map:n,MapView:r,Graphic:s,Point:i,TextSymbol:o,PictureMarkerSymbol:l,webMercatorUtils:c});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(S.a)(j.a.mark((function e(){var t,a,n,r,s,i=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.loadEsriModules();case 3:t=e.sent,this.xyToLngLat=t.webMercatorUtils.xyToLngLat,a=t.Map({basemap:"gray-vector"}),n=t.MapView({center:[-122.31,47.6],container:"esriMapView",map:a,zoom:12}),r=new t.TextSymbol({color:"#f50856",text:"\ue61d",font:{size:20,family:"CalciteWebCoreIcons"}}),s=new t.PictureMarkerSymbol({url:"https://s3.amazonaws.com/aws-mobile-hub-images/wild-rydes/unicorn-icon.png",width:"25px",height:"25px"}),this.pinGraphic=null,this.props.pinLocation&&(this.selectedPoint=this.props.pinLocation,this.pinGraphic=new t.Graphic({symbol:this.state.pinSymbol,geometry:this.selectedPoint}),n.graphics.add(this.pinGraphic)),n.watch("center",(function(e){return i.updateCenter(e)})),n.watch("extent",(function(e){return i.updateExtent(e)})),n.on("click",(function(e){i.unsetLocation(),i.selectedPoint=e.mapPoint,i.pinGraphic=new t.Graphic({symbol:i.state.pinSymbol,geometry:i.selectedPoint}),n.graphics.add(i.pinGraphic),i.props.onMapClick&&i.props.onMapClick(i.selectedPoint)})),n.then((function(){i.updateCenter(n.center),i.updateExtent(n.extent),i.setState({map:a,view:n,pinSymbol:r,unicornSymbol:s,status:"loaded"})})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error(e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"updateCenter",value:function(e){this.center={latitude:e.latitude,longitude:e.longitude}}},{key:"updateExtent",value:function(e){if("undefined"!==typeof this.xyToLngLat){var t=this.xyToLngLat(e.xmin,e.ymin),a=this.xyToLngLat(e.xmax,e.ymax);this.extent={minLng:t[0],minLat:t[1],maxLng:a[0],maxLat:a[1]}}}},{key:"unsetLocation",value:function(){this.selectedPoint=null,null!==this.pinGraphic&&(this.state.view.graphics.remove(this.pinGraphic),this.pinGraphic=null)}},{key:"render",value:function(){return c.a.createElement("div",{style:this.style.container},c.a.createElement("div",{id:"esriMapView",style:this.style.map},"loading"===this.state.status&&c.a.createElement("div",null,"Loading...")))}}]),a}(c.a.Component);A.defaultProps={mapOptions:{basemap:"gray-vector"}};var L=A,I=a(16),W={Auth:{identityPoolId:"eu-west-1:cf0885c0-cb1b-469b-a86d-9691fee203c7",region:"eu-west-1",userPoolId:"eu-west-1_TYlGF3MrL",userPoolWebClientId:"sdoodpgrnj91vqhk3p68dojt7"},API:{endpoints:[{name:"WildRydesAPI",endpoint:"https://5f8m7ufpac.execute-api.eu-west-1.amazonaws.com/prod",region:"eu-west-1"}]},Storage:{bucket:"",region:""}},U=(a(611),function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={authToken:null,idToken:null,requestRideEnabled:!1,updates:["Welcome! Click the map to set your pickup location."]},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=Object(S.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.b.currentSession();case 2:t=e.sent,this.setState({authToken:t.accessToken.jwtToken}),this.setState({idToken:t.idToken.jwtToken});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hasApi",value:function(){return"undefined"!==typeof W.API.endpoints.filter((function(e){return""!==e.endpoint}))}},{key:"getData",value:function(){var e=Object(S.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={body:{PickupLocation:{Longitude:t.longitude,Latitude:t.latitude}},headers:{Authorization:this.state.idToken,"Content-Type":"application/json"}},console.log("API Request:",a),e.next=4,I.a.post("WildRydesAPI","/ride",a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onClick",value:function(){var e=Object(S.a)(j.a.mark((function e(){var t,a,n=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.pin){e.next=3;break}return console.error("No pin present - skipping"),e.abrupt("return",!0);case 3:return t=["Requesting Unicorn"],e.prev=4,this.setState({requestRideEnabled:!1,updates:t}),e.next=8,this.getData(this.state.pin);case 8:a=e.sent,console.log(a),t.push(["Your unicorn, ".concat(a.Unicorn.Name," will be with you in ").concat(a.Eta)]),this.setState({updates:t}),setTimeout((function(){console.log("Ride Complete");var e=n.state.updates;e.push(["".concat(a.Unicorn.Name," has arrived")]),n.setState({updates:e,requestRideEnabled:!1,pin:null})}),1e3*a.Eta),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(4),console.error(e.t0),t.push(["Error finding unicorn"]),this.setState({updates:t});case 20:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"onMapClick",value:function(e){console.log("onMapClick(".concat(JSON.stringify(e),")")),this.setState({pin:e,requestRideEnabled:!0})}},{key:"render",value:function(){var e=this;if(!this.hasApi())return c.a.createElement("div",null,c.a.createElement(T,null),c.a.createElement("div",{className:"configMessage"},c.a.createElement("div",{className:"backdrop"}),c.a.createElement("div",{className:"panel panel-default"},c.a.createElement("div",{className:"panel-heading"},c.a.createElement("h3",{className:"panel-title"},"Successfully Authenticated!")),c.a.createElement("div",{className:"panel-body"},c.a.createElement("p",null,"This page is not functional yet because there is no API configured."),c.a.createElement("p",null,"Here is your user's identity token:"),c.a.createElement("p",{className:"idToken"},this.state.idToken)))));var t=this.state.updates.map((function(e,t){return c.a.createElement("li",{key:t},e)}));return c.a.createElement("div",null,c.a.createElement("div",{className:"info panel panel-default"},c.a.createElement("div",{className:"panel-heading"},c.a.createElement("button",{id:"request",className:"btn btn-primary",disabled:!this.state.requestRideEnabled,onClick:function(){return e.onClick()}},"Request")),c.a.createElement("div",{className:"panel-body"},c.a.createElement("ol",{id:"updates"},t))),c.a.createElement("div",{id:"main"},c.a.createElement(L,{onMapClick:function(t){e.onMapClick(t)}})))}}]),a}(c.a.Component)),V=function(e){var t=e.alt||"dynamic image";return c.a.createElement("img",{src:"https://s3.amazonaws.com/aws-mobile-hub-images/wild-rydes/"+e.src,alt:t})},G=function(){return c.a.createElement("div",{className:"page-unicorns"},c.a.createElement("header",{className:"site-header"},c.a.createElement("div",{className:"site-logo dark"},"Wild Rydes"),c.a.createElement("div",{className:"row column medium-8 large-6 xlarge-5 xxlarge-4"},c.a.createElement("h1",{className:"title"},"Unicorns Are Our Friends"),c.a.createElement("p",{className:"content"},"The app is what makes this service exist, but the unicorns make it move. Meet them and see who you are riding with!")),c.a.createElement(y,null)),c.a.createElement("div",{className:"row column medium-10 large-8 xxlarge-6"},c.a.createElement("p",{className:"content"},"Wild Rydes has a dedicated staff that recruits, trains, and tends to our herd of unicorns. We take great pride in the quality of unicorns and rydes that we provide to our customers, and our staff exercises the utmost care in vetting the unicorns that join our herd."),c.a.createElement("p",{className:"content"},"Every unicorn goes through a rigorous due diligence process where we perform background checks, flying exams, and several rounds of interviews. Unicorns accepted to Wild Rydes are then treated to the best care and maintenance possible. We provide them excellent benefits, health care, and employee perks. This is part of our company philosophy in which happy unicorns lead to happy customers."),c.a.createElement("p",{className:"content"},"Meet a few of the unicorns that are part of our family.")),c.a.createElement("section",{className:"unicorns-list"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"unicorn jimmy"},c.a.createElement("div",{className:"columns medium-5 large-6 xlarge-5 xlarge-offset-1"},c.a.createElement(V,{src:"wr-unicorn-one.png"})),c.a.createElement("div",{className:"columns medium-7 large-6 xlarge-5 xxlarge-4"},c.a.createElement("h2",{className:"title"},"Bucephalus"),c.a.createElement("div",{className:"subtitle"},"Golden Swiss"),c.a.createElement("p",{className:"content"},"Bucephalus joined Wild Rydes in February 2016 and has been giving rydes almost daily. He says he most enjoys getting to know each of his ryders, which makes the job more interesting for him. In his spare time, Bucephalus enjoys watching sunsets and playing Pokemon Go.")))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"unicorn henry"},c.a.createElement("div",{className:"columns medium-5 medium-push-7 large-6 large-push-6 xlarge-5 xlarge-offset-1 xlarge-push-5"},c.a.createElement(V,{src:"wr-unicorn-two.png"})),c.a.createElement("div",{className:"columns medium-7 medium-pull-5 large-6 large-pull-6 xlarge-5 xlarge-pull-5 xxlarge-4 xxlarge-offset-1"},c.a.createElement("h2",{className:"title"},"Shadowfox"),c.a.createElement("div",{className:"subtitle"},"Brown Jersey"),c.a.createElement("p",{className:"content"},"Shadowfox joined Wild Rydes after completing a distinguished career in the military, where he toured the world in many critical missions. Shadowfox enjoys impressing his ryders with magic tricks that he learned from his previous owner.")))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"unicorn veronica"},c.a.createElement("div",{className:"columns medium-5 large-6 xlarge-5 xlarge-offset-1"},c.a.createElement(V,{src:"wr-unicorn-three.png"})),c.a.createElement("div",{className:"columns medium-7 large-6 xlarge-5 xxlarge-4"},c.a.createElement("h2",{className:"title"},"Rocinante"),c.a.createElement("div",{className:"subtitle"},"Baby Flying Yellowback"),c.a.createElement("p",{className:"content"},"Rocinante recently joined the Wild Rydes team in Madrid, Spain. She was instrumental in forming Wild Rydes\u2019 Spanish operations after a long, distinguished acting career in windmill shadow-jousting."))))),c.a.createElement(b,null))},q=(a(612),function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={user:{attributes:{email:"me@example.com",phone_number:"+1123456789"}}},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;I.b.currentAuthenticatedUser().then((function(t){console.log("Cognito User",t),e.setState({user:t,image_key:"profile-"+t.attributes.sub+".jpg"})}))}},{key:"onImageLoad",value:function(){var e=Object(S.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.error("onImageLoad is not yet implemented");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return c.a.createElement("div",{className:"page-unicorns"},c.a.createElement("header",{className:"site-header"},c.a.createElement("div",null,c.a.createElement("table",{align:"center"},c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,"E-mail:"),c.a.createElement("td",null,this.state.user.attributes.email)),c.a.createElement("tr",null,c.a.createElement("td",null,"Phone:"),c.a.createElement("td",null,this.state.user.attributes.phone_number))))),c.a.createElement(y,null)),c.a.createElement(b,null))}}]),a}(c.a.Component)),z=a(700),F=(a(199),function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={stage:0,email:"",password:"",code:"",userObject:null},r}return Object(r.a)(a,[{key:"onSubmitForm",value:function(){var e=Object(S.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,I.b.signIn(this.state.email.replace(/[@.]/g,"|"),this.state.password);case 4:if(a=e.sent,console.log("userObject",a),!a.challengeName){e.next=10;break}this.setState({userObject:a,stage:1}),e.next=16;break;case 10:return e.next=12,I.b.currentSession();case 12:n=e.sent,console.log("Cognito User Identity Token:",n.getIdToken().getJwtToken()),this.setState({stage:0,email:"",password:"",code:""}),this.props.history.replace("/app");case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),alert(e.t0.message),console.error("Auth.signIn(): ",e.t0);case 22:case"end":return e.stop()}}),e,this,[[1,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onSubmitVerification",value:function(){var e=Object(S.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,I.b.confirmSignIn(this.state.userObject,this.state.code);case 4:return a=e.sent,console.log("Cognito User Data:",a),e.next=8,I.b.currentSession();case 8:n=e.sent,"mlinphabknpbglbihhlfpifmcichlopo",chrome.runtime.sendMessage("mlinphabknpbglbihhlfpifmcichlopo",n,(function(e){console.log(e)})),console.log("Cognito User Identity Token:",n.getIdToken().getJwtToken()),this.setState({stage:0,email:"",password:"",code:""}),this.props.history.replace("/app"),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),alert(e.t0.message),console.error("Auth.confirmSignIn(): ",e.t0);case 20:case"end":return e.stop()}}),e,this,[[1,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onEmailChanged",value:function(e){this.setState({email:e.target.value.toLowerCase()})}},{key:"onPasswordChanged",value:function(e){this.setState({password:e.target.value})}},{key:"onCodeChanged",value:function(e){this.setState({code:e.target.value})}},{key:"isValidEmail",value:function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}},{key:"renderSignIn",value:function(){var e=this,t=this.isValidEmail(this.state.email),a=this.state.password.length>1;return c.a.createElement("div",{className:"app"},c.a.createElement("header",null,c.a.createElement(V,{src:"logo.png"})),c.a.createElement("section",{className:"form-wrap"},c.a.createElement("h1",null,"Sign in"),c.a.createElement(y,null),c.a.createElement("form",{id:"registrationForm",onSubmit:function(t){return e.onSubmitForm(t)}},c.a.createElement("input",{className:t?"valid":"invalid",type:"email",placeholder:"Email",value:this.state.email,onChange:function(t){return e.onEmailChanged(t)}}),c.a.createElement("input",{className:a?"valid":"invalid",type:"password",placeholder:"Password",value:this.state.password,onChange:function(t){return e.onPasswordChanged(t)}}),c.a.createElement("input",{disabled:!(t&&a),type:"submit",value:"Let's Ryde"}))))}},{key:"renderConfirm",value:function(){var e=this,t=this.isValidEmail(this.state.email),a=6===this.state.code.length;return c.a.createElement("div",{className:"app"},c.a.createElement("header",null,c.a.createElement(V,{src:"logo.png"})),c.a.createElement("section",{className:"form-wrap"},c.a.createElement("h1",null,"Enter MFA Code"),c.a.createElement("form",{id:"verifyForm",onSubmit:function(t){return e.onSubmitVerification(t)}},c.a.createElement("input",{className:t?"valid":"invalid",type:"email",placeholder:"Email",value:this.state.email}),c.a.createElement("input",{className:a?"valid":"invalid",type:"text",placeholder:"Verification Code",value:this.state.code,onChange:function(t){return e.onCodeChanged(t)}}),c.a.createElement("input",{disabled:!(a&&t),type:"submit",value:"Verify"}))))}},{key:"render",value:function(){switch(this.state.stage){case 0:default:return this.renderSignIn();case 1:return this.renderConfirm()}}}]),a}(c.a.Component)),D=Object(z.a)(F),B=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={stage:0,email:"",phone:"",genre:"",password:"",confirm:"",code:""},r}return Object(r.a)(a,[{key:"onSubmitForm",value:function(){var e=Object(S.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a={username:this.state.email.replace(/[@.]/g,"|"),password:this.state.password,attributes:{email:this.state.email,phone_number:this.state.phone,"custom:genre":this.state.genre},validationData:[]},e.next=5,I.b.signUp(a);case 5:n=e.sent,console.log(n),this.setState({stage:1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),"No userPool"===e.t0?(console.error("User Pool not defined"),alert("User Pool not defined. Amplify config must be updated with user pool config")):"User already exists"===e.t0.message?this.setState({stage:1}):(e.t0.message.indexOf("phone number format")>=0&&(e.t0.message="Invalid phone number format. Must include country code. Example: +14252345678"),alert(e.t0.message),console.error("Exception from Auth.signUp: ",e.t0),this.setState({stage:0,email:"",password:"",confirm:""}));case 13:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onSubmitVerification",value:function(){var e=Object(S.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,I.b.confirmSignUp(this.state.email.replace(/[@.]/g,"|"),this.state.code);case 4:a=e.sent,console.log(a),this.props.history.replace("/signin"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),alert(e.t0.message),console.error("Exception from Auth.confirmSignUp: ",e.t0);case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onEmailChanged",value:function(e){this.setState({email:e.target.value.toLowerCase()})}},{key:"onPhoneChanged",value:function(e){this.setState({phone:e.target.value})}},{key:"onGenreChanged",value:function(e){this.setState({genre:e.target.value.toLowerCase()})}},{key:"onPasswordChanged",value:function(e){this.setState({password:e.target.value})}},{key:"onConfirmationChanged",value:function(e){this.setState({confirm:e.target.value})}},{key:"onCodeChanged",value:function(e){this.setState({code:e.target.value})}},{key:"isValidEmail",value:function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}},{key:"renderSignUp",value:function(){var e=this,t=this.isValidEmail(this.state.email),a=this.state.password.length>1,n=(this.state.genre.length,a&&this.state.password===this.state.confirm);return c.a.createElement("div",{className:"app"},c.a.createElement("header",null,c.a.createElement(V,{src:"logo.png"})),c.a.createElement("section",{className:"form-wrap"},c.a.createElement("h1",null,"Register"),c.a.createElement("form",{id:"registrationForm",onSubmit:function(t){return e.onSubmitForm(t)}},c.a.createElement("input",{className:t?"valid":"invalid",type:"email",placeholder:"Email",value:this.state.email,onChange:function(t){return e.onEmailChanged(t)}}),c.a.createElement("input",{className:"valid",type:"phone",placeholder:"Phone",value:this.state.phone,onChange:function(t){return e.onPhoneChanged(t)}}),c.a.createElement("input",{className:"valid",type:"Genre",placeholder:"Genre",value:this.state.genre,onChange:function(t){return e.onGenreChanged(t)}}),c.a.createElement("input",{className:a?"valid":"invalid",type:"password",placeholder:"Password",value:this.state.password,onChange:function(t){return e.onPasswordChanged(t)}}),c.a.createElement("input",{className:n?"valid":"invalid",type:"password",placeholder:"Confirm Password",value:this.state.confirm,onChange:function(t){return e.onConfirmationChanged(t)}}),c.a.createElement("input",{disabled:!(t&&a&&n),type:"submit",value:"Let's Ryde"}))))}},{key:"renderConfirm",value:function(){var e=this,t=this.isValidEmail(this.state.email),a=6===this.state.code.length;return c.a.createElement("div",{className:"app"},c.a.createElement("header",null,c.a.createElement(V,{src:"logo.png"})),c.a.createElement("section",{className:"form-wrap"},c.a.createElement("h1",null,"Verify Email"),c.a.createElement("form",{id:"verifyForm",onSubmit:function(t){return e.onSubmitVerification(t)}},c.a.createElement("input",{className:t?"valid":"invalid",type:"email",placeholder:"Email",value:this.state.email}),c.a.createElement("input",{className:a?"valid":"invalid",type:"text",placeholder:"Verification Code",value:this.state.code,onChange:function(t){return e.onCodeChanged(t)}}),c.a.createElement("input",{disabled:!(a&&t),type:"submit",value:"Verify"}))))}},{key:"render",value:function(){switch(this.state.stage){case 0:default:return this.renderSignUp();case 1:return this.renderConfirm()}}}]),a}(c.a.Component),J=Object(z.a)(B);a(692);I.c.configure(W);var H=function(e){var t=e.component,a=Object(o.a)(e,["component"]);return c.a.createElement(d.a,Object.assign({},a,{render:function(e){return null!==I.c.Auth.user===!0?c.a.createElement(t,e):c.a.createElement(p.a,{to:"/signin"})}}))},Y=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement(h.a,null,c.a.createElement(f.a,null,c.a.createElement(d.a,{exact:!0,path:"/",component:N}),c.a.createElement(d.a,{path:"/faq",component:x}),c.a.createElement(d.a,{path:"/unicorns",component:G}),c.a.createElement(d.a,{path:"/register",component:J}),c.a.createElement(d.a,{path:"/signin",component:D}),c.a.createElement(d.a,{path:"/profile",component:q}),c.a.createElement(H,{path:"/app",component:U})))}}]),a}(c.a.Component);m.a.render(c.a.createElement(Y,null),document.getElementById("root"))},92:function(e,t){}},[[210,1,2]]]);
//# sourceMappingURL=main.b8da649d.chunk.js.map