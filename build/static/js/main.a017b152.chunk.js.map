{"version":3,"sources":["components/PageList.js","components/SiteNav.js","components/LegalFooter.js","components/SiteFooter.js","pages/Home.js","pages/FAQ.js","components/BaseMap.js","components/ESRIMap.js","amplify-config.js","pages/MainApp.js","components/DynamicImage.js","pages/Unicorns.js","pages/Profile.js","auth/SignIn.js","auth/SignUp.js","index.js"],"names":["PageList","url","title","map","v","i","key","Link","to","SiteNav","props","state","menuOpened","event","this","setState","cl","className","type","onClick","React","Component","LegalFooter","SiteFooter","AboutSection","StorySection","Home","FAQ","BaseMap","status","esriOptions","style","container","height","width","padding","margin","loadModules","then","Map","MapView","mapOptions","view","viewOptions","id","defaultProps","basemap","zoom","center","ESRIMap","a","Graphic","Point","TextSymbol","PictureMarkerSymbol","webMercatorUtils","loadEsriModules","ESRI","xyToLngLat","pinSymbol","color","text","font","size","family","unicornSymbol","pinGraphic","pinLocation","selectedPoint","symbol","geometry","graphics","add","watch","position","updateCenter","extent","updateExtent","on","unsetLocation","mapPoint","onMapClick","console","error","latitude","longitude","min","xmin","ymin","max","xmax","ymax","minLng","minLat","maxLng","maxLat","remove","awsConfig","Auth","identityPoolId","region","userPoolId","userPoolWebClientId","API","endpoints","name","endpoint","Storage","bucket","MainApp","authToken","idToken","requestRideEnabled","updates","currentSession","session","accessToken","jwtToken","filter","pin","apiRequest","body","PickupLocation","Longitude","Latitude","headers","log","post","getData","data","push","Unicorn","Name","Eta","setTimeout","updateList","JSON","stringify","hasApi","disabled","DynamicImage","altText","alt","src","Unicorns","Profile","user","attributes","email","phone_number","currentAuthenticatedUser","image_key","sub","align","SignIn","stage","password","code","userObject","e","preventDefault","signIn","replace","challengeName","getIdToken","getJwtToken","history","alert","message","confirmSignIn","target","value","toLowerCase","test","String","isValidEmail","isValidPassword","length","onSubmit","onSubmitForm","placeholder","onChange","onEmailChanged","onPasswordChanged","isValidCode","onSubmitVerification","onCodeChanged","renderSignIn","renderConfirm","window","postMessage","withRouter","SignUp","phone","genre","confirm","params","username","validationData","signUp","indexOf","confirmSignUp","isValidConfirmation","onPhoneChanged","onGenreChanged","onConfirmationChanged","renderSignUp","Amplify","configure","PrivateRoute","component","rest","Route","render","Redirect","App","BrowserRouter","Switch","exact","path","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.a017b152.chunk.js","sourcesContent":["/*\r\n *   Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n\r\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\r\n *  You may not use this file except in compliance with the License.\r\n *  A copy of the License is located at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *  or in the \"license\" file accompanying this file. This file is distributed\r\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\r\n *  express or implied. See the License for the specific language governing\r\n *  permissions and limitations under the License.\r\n */\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst PageList = () => {\r\n    const pages = [\r\n        { url: '/', title: 'Home' },\r\n        { url: '/unicorns', title: 'Meet the Unicorns' },\r\n        { url: '/faq', title: 'FAQ' },\r\n        { url: '/profile', title: 'Profile' },\r\n        { url: '/register', title: 'Register' },\r\n        { url: '/signin', title: 'Sign In' }\r\n    ];\r\n\r\n    return (\r\n      <ul>\r\n        {\r\n          pages.map((v, i) => (\r\n            <li key={i}><Link to={v.url}>{v.title}</Link></li>\r\n          ))\r\n        }\r\n      </ul>\r\n    );\r\n};\r\n\r\nexport default PageList;\r\n","/*\r\n *   Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n\r\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\r\n *  You may not use this file except in compliance with the License.\r\n *  A copy of the License is located at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *  or in the \"license\" file accompanying this file. This file is distributed\r\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\r\n *  express or implied. See the License for the specific language governing\r\n *  permissions and limitations under the License.\r\n */\r\nimport React from 'react';\r\nimport PageList from './PageList';\r\n\r\nclass SiteNav extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      menuOpened: false\r\n    };\r\n  }\r\n\r\n  onClick(event) {\r\n    this.setState({ menuOpened: !this.state.menuOpened });\r\n  }\r\n\r\n  render() {\r\n    const cl = this.state.menuOpened ? 'menu-opened' : 'menu-closed';\r\n    const clickHandler = (event) => this.onClick(event);\r\n\r\n    return (\r\n      <div className={cl}>\r\n        <nav className=\"site-nav\">\r\n          <PageList/>\r\n        </nav>\r\n        <button type=\"button\" className=\"btn-menu\" onClick={clickHandler}>\r\n          <span>Menu</span>\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SiteNav;\r\n","/*\r\n *   Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n\r\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\r\n *  You may not use this file except in compliance with the License.\r\n *  A copy of the License is located at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *  or in the \"license\" file accompanying this file. This file is distributed\r\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\r\n *  express or implied. See the License for the specific language governing\r\n *  permissions and limitations under the License.\r\n */\r\nimport React from 'react';\r\n\r\nconst LegalFooter = () => {\r\n    return (\r\n      <div className=\"row column\">\r\n        <div className=\"footer-legal\">\r\n          &copy;WildRydes Inc<br/>\r\n          All Rights Reserved\r\n        </div>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default LegalFooter;\r\n","/*\r\n *   Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n\r\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\r\n *  You may not use this file except in compliance with the License.\r\n *  A copy of the License is located at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *  or in the \"license\" file accompanying this file. This file is distributed\r\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\r\n *  express or implied. See the License for the specific language governing\r\n *  permissions and limitations under the License.\r\n */\r\nimport React from 'react';\r\nimport LegalFooter from './LegalFooter';\r\nimport PageList from './PageList';\r\n\r\nconst SiteFooter = () => {\r\n  return (\r\n    <footer className=\"site-footer\">\r\n      <div className=\"row column\">\r\n        <nav className=\"footer-nav\">\r\n          <PageList/>\r\n        </nav>\r\n      </div>\r\n      <LegalFooter/>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default SiteFooter;\r\n","/*\r\n *   Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n\r\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\r\n *  You may not use this file except in compliance with the License.\r\n *  A copy of the License is located at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *  or in the \"license\" file accompanying this file. This file is distributed\r\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\r\n *  express or implied. See the License for the specific language governing\r\n *  permissions and limitations under the License.\r\n */\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport SiteNav from '../components/SiteNav';\r\nimport SiteFooter from '../components/SiteFooter';\r\n\r\nimport '../css/main.css';\r\n\r\nconst AboutSection = () => (\r\n  <section className=\"home-about\">\r\n    <div className=\"row column large-9 xlarge-6 xxlarge-4\">\r\n      <h2 className=\"section-title\">How Does This Work?</h2>\r\n      <p className=\"content\">\r\n        In today’s fast paced world, you’ve got places you need to be but not enough time in your jam packed schedule. Wouldn’t it be nice if there were a transportation service that changed the way you get around daily? Introducing Wild Rydes, an innovative transportation service that helps people get to their destination faster and hassle-free. Getting started is as easy as tapping a button in our app.\r\n      </p>\r\n    </div>\r\n    <div className=\"row medium-up-2 large-up-4\">\r\n      <div className=\"column\">\r\n        <div className=\"home-about-block\">\r\n          <h3 className=\"title icon-download\">Download The App</h3>\r\n          <p className=\"content\">Head over to the app store and download the Wild Rydes app. You’re just a few taps away from getting your ryde.</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"column\">\r\n        <div className=\"home-about-block\">\r\n          <h3 className=\"title icon-unicorn\">Request A Unicorn</h3>\r\n          <p className=\"content\">We can get you there. Simply request a ryde on the app and we'll connect you with a unicorn immediately.</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"column\">\r\n        <div className=\"home-about-block\">\r\n          <h3 className=\"title icon-price\">Pick A Price</h3>\r\n          <p className=\"content\">Pick the valuation you're willing to pay and your ryde is set up. The only surge is the acceleration you get when taking off.</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"column\">\r\n        <div className=\"home-about-block\">\r\n          <h3 className=\"title icon-success\">Ride Off To Success!</h3>\r\n          <p className=\"content\">After matching with your unicorn and agreeing to its terms, you’ll be all set. Your unicorn will arrive shortly to pick you up.</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n);\r\n\r\nconst StorySection = () => (\r\n  <section className=\"home-story\">\r\n    <div className=\"row column large-9 xlarge-6 xxlarge-4\">\r\n      <h2 className=\"section-title\">Our Story</h2>\r\n      <p className=\"content\">\r\n        Wild Rydes was started by a former hedge fund analyst and a software developer. The two long-time friends happened upon the Wild Rydes idea after attending a silent yoga retreat in Nevada. After gazing upon the majestic herds of unicorns prancing across a surreal Nevada sunset, they witnessed firsthand the poverty and unemployment endemic to that once proud race. Whether it was modern society’s reliance on science over magic or not, we’ll never know the cause of their Ozymandian downfall and fade to obscurity. Moved by empathy, romance, and free enterprise, they saw an opportunity to marry society’s demand for faster, more flexible transportation to underutilized beasts of labor through an on-demand market making transportation app. Using the founders’ respective expertise in animal husbandry and software engineering, Wild Rydes was formed and has since raised untold amounts of venture capital. Today, Wild Rydes has thousands of unicorns in its network fulfilling hundreds of rydes each day.\r\n      </p>\r\n    </div>\r\n  </section>\r\n);\r\n\r\nconst Home = () => {\r\n  return (\r\n    <div className=\"page-home\">\r\n      <header className=\"site-header\">\r\n        <h1 className=\"title\">Wild Rydes</h1>\r\n        <SiteNav/>\r\n        <Link className=\"home-button\" to=\"/app\">\r\n          Giddy Up!\r\n        </Link>\r\n      </header>\r\n      <AboutSection/>\r\n      <StorySection/>\r\n      <SiteFooter/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","/*\r\n *   Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n\r\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\r\n *  You may not use this file except in compliance with the License.\r\n *  A copy of the License is located at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *  or in the \"license\" file accompanying this file. This file is distributed\r\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\r\n *  express or implied. See the License for the specific language governing\r\n *  permissions and limitations under the License.\r\n */\r\nimport React from 'react';\r\nimport SiteNav from '../components/SiteNav';\r\nimport SiteFooter from '../components/SiteFooter';\r\n\r\nimport '../css/main.css';\r\n\r\nconst FAQ = () => {\r\n    return (\r\n      <div className=\"page-faq\">\r\n        <header className=\"site-header\">\r\n          <div className=\"site-logo\">Wild Rydes</div>\r\n          <div className=\"row column medium-8 large-6 xlarge-5 xxlarge-4\">\r\n            <h1 className=\"title\">Frequently Asked Questions</h1>\r\n          </div>\r\n          <SiteNav/>\r\n        </header>\r\n\r\n        <section className=\"faq-list\">\r\n          <div className=\"row column medium-10 large-8 xxlarge-6\">\r\n            <dl>\r\n              <dt>Q: Why should I use this app?</dt>\r\n              <dd>A: Coz i sed so.</dd>\r\n             </dl>\r\n          </div>\r\n        </section>\r\n      <SiteFooter/>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default FAQ;\r\n\r\n","/*\r\n *   Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n\r\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\r\n *  You may not use this file except in compliance with the License.\r\n *  A copy of the License is located at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *  or in the \"license\" file accompanying this file. This file is distributed\r\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\r\n *  express or implied. See the License for the specific language governing\r\n *  permissions and limitations under the License.\r\n */\r\nimport React from 'react';\r\nimport { loadModules } from 'esri-loader';\r\n\r\nclass BaseMap extends React.Component {\r\n    static defaultProps = {\r\n      mapOptions: {\r\n        basemap: 'gray-vector'\r\n      },\r\n      viewOptions: {\r\n        zoom: 12,\r\n        center: [ -122.31, 47.60 ]\r\n      }\r\n    };\r\n\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = { status: 'loading' };\r\n      this.esriOptions = {\r\n        url: 'https://js.arcgis.com/4.6/'\r\n      };\r\n      this.style = {\r\n        container: {\r\n          height: '100vh',\r\n          width: '100vw'\r\n        },\r\n        map: {\r\n          padding: 0,\r\n          margin: 0,\r\n          height: '100%',\r\n          width: '100%'\r\n        }\r\n      };\r\n    }\r\n\r\n    componentDidMount() {\r\n      loadModules([ 'esri/Map', 'esri/views/MapView' ], this.esriOptions)\r\n        .then(([Map, MapView]) => {\r\n          const map = new Map(this.props.mapOptions);\r\n          const view = new MapView({\r\n            container: 'esriMapView',\r\n            map,\r\n            ...this.props.viewOptions\r\n          });\r\n          view.then(() => {\r\n            this.setState({ map, view, status: 'loaded' });\r\n          });\r\n        });\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <div style={this.style.container}>\r\n          <div id='esriMapView' style={this.style.map}>\r\n            {this.state.status === 'loading' && (<div>Loading...</div>)}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n}\r\n\r\nexport default BaseMap;\r\n\r\n","/*\r\n *   Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n\r\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\r\n *  You may not use this file except in compliance with the License.\r\n *  A copy of the License is located at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *  or in the \"license\" file accompanying this file. This file is distributed\r\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\r\n *  express or implied. See the License for the specific language governing\r\n *  permissions and limitations under the License.\r\n */\r\nimport React from 'react';\r\nimport { loadModules } from 'esri-loader';\r\n\r\nclass ESRIMap extends React.Component {\r\n    static defaultProps = {\r\n      mapOptions: {\r\n        basemap: 'gray-vector'\r\n      }\r\n    };\r\n\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = { status: 'loading' };\r\n      this.esriOptions = {\r\n        url: 'https://js.arcgis.com/4.6/'\r\n      };\r\n      this.style = {\r\n        container: {\r\n          height: '100vh',\r\n          width: '100vw'\r\n        },\r\n        map: {\r\n          padding: 0,\r\n          margin: 0,\r\n          height: '100%',\r\n          width: '100%'\r\n        }\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Loads the ESRI modules and returns them as an object\r\n     */\r\n    async loadEsriModules() {\r\n      const [\r\n        Map,\r\n        MapView,\r\n        Graphic,\r\n        Point,\r\n        TextSymbol,\r\n        PictureMarkerSymbol,\r\n        webMercatorUtils\r\n      ] = await loadModules([\r\n        'esri/Map',\r\n        'esri/views/MapView',\r\n        'esri/Graphic',\r\n        'esri/geometry/Point',\r\n        'esri/symbols/TextSymbol',\r\n        'esri/symbols/PictureMarkerSymbol',\r\n        'esri/geometry/support/webMercatorUtils'\r\n      ], this.esriOptions);\r\n\r\n      return {\r\n        Map,\r\n        MapView,\r\n        Graphic,\r\n        Point,\r\n        TextSymbol,\r\n        PictureMarkerSymbol,\r\n        webMercatorUtils\r\n      };\r\n    }\r\n\r\n    async componentDidMount() {\r\n      try {\r\n        const ESRI = await this.loadEsriModules();\r\n        this.xyToLngLat = ESRI.webMercatorUtils.xyToLngLat;\r\n\r\n        const map = ESRI.Map({ basemap: 'gray-vector' });\r\n        const view = ESRI.MapView({\r\n          center: [-122.31, 47.60],\r\n          container: 'esriMapView',\r\n          map: map,\r\n          zoom: 12\r\n        });\r\n\r\n        const pinSymbol = new ESRI.TextSymbol({\r\n          color: '#f50856',\r\n          text: '\\ue61d',\r\n          font: { size: 20, family: 'CalciteWebCoreIcons' }\r\n        });\r\n\r\n        var unicornSymbol = new ESRI.PictureMarkerSymbol({\r\n          url: 'https://s3.amazonaws.com/aws-mobile-hub-images/wild-rydes/unicorn-icon.png',\r\n          width: '25px',\r\n          height: '25px'\r\n        });\r\n\r\n        this.pinGraphic = null;\r\n        if (this.props.pinLocation) {\r\n          this.selectedPoint = this.props.pinLocation;\r\n          this.pinGraphic = new ESRI.Graphic({\r\n            symbol: this.state.pinSymbol,\r\n            geometry: this.selectedPoint\r\n          });\r\n          view.graphics.add(this.pinGraphic);\r\n        }\r\n\r\n        // Watch for map re-centering\r\n        view.watch('center', (position) => this.updateCenter(position));\r\n\r\n        // Watch for map pinch-and-zoom actions\r\n        view.watch('extent', (extent) => this.updateExtent(extent));\r\n\r\n        // Watch for map click events\r\n        view.on('click', (event) => {\r\n          this.unsetLocation();\r\n          this.selectedPoint = event.mapPoint;\r\n          this.pinGraphic = new ESRI.Graphic({\r\n            symbol: this.state.pinSymbol,\r\n            geometry: this.selectedPoint\r\n          });\r\n          view.graphics.add(this.pinGraphic);\r\n\r\n          if (this.props.onMapClick) {\r\n            this.props.onMapClick(this.selectedPoint);\r\n          }\r\n        });\r\n\r\n        view.then(() => {\r\n          // Set the current map settings in the object\r\n          // once it is rendered\r\n          this.updateCenter(view.center);\r\n          this.updateExtent(view.extent);\r\n\r\n          // Store the status of the map\r\n          this.setState({\r\n            map,\r\n            view,\r\n            pinSymbol,\r\n            unicornSymbol,\r\n            status: 'loaded'\r\n          });\r\n        });\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Updates the position of the map by re-centering.\r\n     *\r\n     * @param {Point} position the new center of the map\r\n     */\r\n    updateCenter(position) {\r\n      this.center = {\r\n        latitude: position.latitude,\r\n        longitude: position.longitude\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Updates the extents of the map - used when zooming\r\n     *\r\n     * @param {Rectangle} extent\r\n     */\r\n    updateExtent(extent) {\r\n      if (typeof this.xyToLngLat !== 'undefined') {\r\n        var min = this.xyToLngLat(extent.xmin, extent.ymin);\r\n        var max = this.xyToLngLat(extent.xmax, extent.ymax);\r\n        this.extent = {\r\n          minLng: min[0],\r\n          minLat: min[1],\r\n          maxLng: max[0],\r\n          maxLat: max[1]\r\n        };\r\n      }\r\n    }\r\n\r\n    unsetLocation() {\r\n      this.selectedPoint = null;\r\n      if (this.pinGraphic !== null) {\r\n        this.state.view.graphics.remove(this.pinGraphic);\r\n        this.pinGraphic = null;\r\n      }\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <div style={this.style.container}>\r\n          <div id='esriMapView' style={this.style.map}>\r\n            {this.state.status === 'loading' && (<div>Loading...</div>)}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n}\r\n\r\nexport default ESRIMap;\r\n","// This file is used for manual configuration of the Amplify library.\r\n// When Amplify is used in conjunction with the Amplify CLI toolchain or AWS Mobile Hub to manage backend resources,\r\n// an aws-exports.js file is auto-generated and can be used instead of the below to automatically configure the Amplify library.\r\n// In this workshop, we are using the Amplify client libraries without the CLI toolchain so you should edit this file manually.\r\n\r\nconst awsConfig = {\r\n    Auth: {\r\n        identityPoolId: 'eu-west-1:cf0885c0-cb1b-469b-a86d-9691fee203c7', // example: 'us-east-2:c85f3c18-05fd-4bb5-8fd1-e77e7627a99e'\r\n        region: 'eu-west-1', // example: 'us-east-2'\r\n        userPoolId: 'eu-west-1_TYlGF3MrL', // example: 'us-east-2_teEUQbkUh'\r\n        userPoolWebClientId: 'sdoodpgrnj91vqhk3p68dojt7' // example: '3k09ptd8kn8qk2hpk07qopr86'\r\n    },\r\n    API: {\r\n        endpoints: [ \r\n            {\r\n                name: 'WildRydesAPI',\r\n                endpoint: 'https://5f8m7ufpac.execute-api.eu-west-1.amazonaws.com/prod', // example: 'https://u8swuvl00f.execute-api.us-east-2.amazonaws.com/prod'\r\n                region: 'eu-west-1' // example: 'us-east-2'\r\n            }\r\n        ]\r\n    }, \r\n    Storage: {\r\n        bucket: '', //example: 'wildrydesbackend-profilepicturesbucket-1wgssc97ekdph'\r\n        region: '' // example: 'us-east-2'\r\n    }\r\n}\r\n\r\nexport default awsConfig;\r\n","/*\r\n *   Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n\r\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\r\n *  You may not use this file except in compliance with the License.\r\n *  A copy of the License is located at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *  or in the \"license\" file accompanying this file. This file is distributed\r\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\r\n *  express or implied. See the License for the specific language governing\r\n *  permissions and limitations under the License.\r\n */\r\nimport React from 'react';\r\nimport BaseMap from '../components/BaseMap';\r\nimport ESRIMap from '../components/ESRIMap';\r\nimport Amplify from 'aws-amplify';\r\nimport { Auth, API } from 'aws-amplify';\r\nimport awsConfig from '../amplify-config';\r\nimport '../css/ride.css';\r\n\r\nconst apiName = 'WildRydesAPI';\r\nconst apiPath = '/ride';\r\n\r\nclass MainApp extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      authToken: null,\r\n      idToken: null,\r\n      requestRideEnabled: false,\r\n      updates: [\r\n        'Welcome! Click the map to set your pickup location.'\r\n      ]\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const session = await Auth.currentSession();\r\n    this.setState({ authToken: session.accessToken.jwtToken });\r\n    this.setState({ idToken: session.idToken.jwtToken });\r\n  }\r\n\r\n  /**\r\n   * Determines if the API is enabled\r\n   *\r\n   * @return {Boolean} true if API is configured\r\n   */\r\n  hasApi() {\r\n    const api = awsConfig.API.endpoints.filter(v => v.endpoint !== '');                                                   \r\n    return (typeof api !== 'undefined');\r\n  }\r\n\r\n  /**\r\n   * Calls the backend API to retrieve the Unicorn data\r\n   *\r\n   * @param {Number} latitude\r\n   * @param {Number} longitude\r\n   */\r\n  async getData(pin) {\r\n    const apiRequest = {\r\n        body: {\r\n        PickupLocation: {\r\n            Longitude: pin.longitude,\r\n            Latitude: pin.latitude\r\n        }\r\n        },\r\n        headers: {\r\n        'Authorization': this.state.idToken,\r\n        'Content-Type': 'application/json'\r\n        }\r\n    };\r\n    console.log('API Request:', apiRequest);\r\n    return await API.post(apiName, apiPath, apiRequest);\r\n}\r\n\r\n  /**\r\n   * Called when Request Ride is called\r\n   */\r\n  async onClick() {\r\n    if (!this.state.pin) {\r\n      console.error('No pin present - skipping');\r\n      return true;\r\n    }\r\n\r\n    const updates = [ 'Requesting Unicorn' ];\r\n    try {\r\n      this.setState({\r\n        requestRideEnabled: false,\r\n        updates\r\n      });\r\n      const data = await this.getData(this.state.pin);\r\n      console.log(data);\r\n      updates.push([ `Your unicorn, ${data.Unicorn.Name} will be with you in ${data.Eta}` ]);\r\n      this.setState({ updates });\r\n\r\n      // Let's fake the arrival\r\n      setTimeout(() => {\r\n        console.log('Ride Complete');\r\n        const updateList = this.state.updates;\r\n        updateList.push([ `${data.Unicorn.Name} has arrived` ]);\r\n        this.setState({\r\n          updates: updateList,\r\n          requestRideEnabled: false,\r\n          pin: null\r\n        });\r\n      }, data.Eta * 1000);\r\n    } catch (err) {\r\n      console.error(err);\r\n      updates.push([ 'Error finding unicorn' ]);\r\n      this.setState({ updates });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Called when the mapClick happens\r\n   * @param {Point} position the position of the map pin\r\n   */\r\n  onMapClick(position) {\r\n    console.log(`onMapClick(${JSON.stringify(position)})`);\r\n    this.setState({ pin: position, requestRideEnabled: true });\r\n  }\r\n\r\n  render() {\r\n    const hasApi = this.hasApi();\r\n\r\n    // If API is not configured, but auth is, then output the\r\n    // token.\r\n    if (!hasApi) {\r\n      return (\r\n        <div>\r\n          <BaseMap/>\r\n          <div className=\"configMessage\">\r\n            <div className=\"backdrop\"></div>\r\n            <div className=\"panel panel-default\">\r\n              <div className=\"panel-heading\">\r\n                <h3 className=\"panel-title\">Successfully Authenticated!</h3>\r\n              </div>\r\n              <div className=\"panel-body\">\r\n                <p>This page is not functional yet because there is no API configured.</p>\r\n                <p>Here is your user's identity token:</p>\r\n                <p className=\"idToken\">{this.state.idToken}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // If the API is configured, then display the \"requestUnicorn\"\r\n    // button.  If data is available (i.e. unicorn is requested),\r\n    // then display the additional patterns (unicorn on map).\r\n    const updateList = this.state.updates.map(\r\n      (v, i) => <li key={i}>{v}</li>\r\n    );\r\n    return (\r\n      <div>\r\n        <div className=\"info panel panel-default\">\r\n          <div className=\"panel-heading\">\r\n            <button id=\"request\" className=\"btn btn-primary\" disabled={!this.state.requestRideEnabled} onClick={() => this.onClick()}>Request</button>\r\n          </div>\r\n          <div className=\"panel-body\">\r\n            <ol id=\"updates\">{updateList}</ol>\r\n          </div>\r\n        </div>\r\n        <div id=\"main\">\r\n          <ESRIMap onMapClick={(position) => { this.onMapClick(position); }}/>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MainApp;\r\n","/*\r\n *   Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n\r\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\r\n *  You may not use this file except in compliance with the License.\r\n *  A copy of the License is located at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *  or in the \"license\" file accompanying this file. This file is distributed\r\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\r\n *  express or implied. See the License for the specific language governing\r\n *  permissions and limitations under the License.\r\n */\r\nimport React from 'react';\r\n\r\nconst DynamicImage = (props) => {\r\n  const altText = props.alt || \"dynamic image\";\r\n  return (\r\n    <img src={\"https://s3.amazonaws.com/aws-mobile-hub-images/wild-rydes/\" + props.src} alt={altText}/>\r\n  );\r\n};\r\n\r\nexport default DynamicImage;\r\n","/*\r\n *   Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n\r\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\r\n *  You may not use this file except in compliance with the License.\r\n *  A copy of the License is located at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *  or in the \"license\" file accompanying this file. This file is distributed\r\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\r\n *  express or implied. See the License for the specific language governing\r\n *  permissions and limitations under the License.\r\n */\r\nimport React from 'react';\r\nimport DynamicImage from '../components/DynamicImage';\r\nimport SiteNav from '../components/SiteNav';\r\nimport SiteFooter from '../components/SiteFooter';\r\n\r\nimport '../css/main.css';\r\n\r\nconst Unicorns = () => (\r\n  <div className=\"page-unicorns\">\r\n    <header className=\"site-header\">\r\n      <div className=\"site-logo dark\">Wild Rydes</div>\r\n      <div className=\"row column medium-8 large-6 xlarge-5 xxlarge-4\">\r\n        <h1 className=\"title\">Unicorns Are Our Friends</h1>\r\n        <p className=\"content\">\r\n          The app is what makes this service exist, but the unicorns make it move. Meet them and see who you are riding with!\r\n        </p>\r\n      </div>\r\n      <SiteNav/>\r\n    </header>\r\n    <div className=\"row column medium-10 large-8 xxlarge-6\">\r\n      <p className=\"content\">\r\n        Wild Rydes has a dedicated staff that recruits, trains, and tends to our herd of unicorns. We take great pride in the quality of unicorns and rydes that we provide to our customers, and our staff exercises the utmost care in vetting the unicorns that join our herd.\r\n      </p>\r\n      <p className=\"content\">\r\n        Every unicorn goes through a rigorous due diligence process where we perform background checks, flying exams, and several rounds of interviews. Unicorns accepted to Wild Rydes are then treated to the best care and maintenance possible. We provide them excellent benefits, health care, and employee perks. This is part of our company philosophy in which happy unicorns lead to happy customers.\r\n      </p>\r\n      <p className=\"content\">Meet a few of the unicorns that are part of our family.</p>\r\n    </div>\r\n    <section className=\"unicorns-list\">\r\n      <div className=\"row\">\r\n        <div className=\"unicorn jimmy\">\r\n          <div className=\"columns medium-5 large-6 xlarge-5 xlarge-offset-1\">\r\n            <DynamicImage src=\"wr-unicorn-one.png\"/>\r\n          </div>\r\n          <div className=\"columns medium-7 large-6 xlarge-5 xxlarge-4\">\r\n            <h2 className=\"title\">Bucephalus</h2>\r\n            <div className=\"subtitle\">Golden Swiss</div>\r\n            <p className=\"content\">\r\n              Bucephalus joined Wild Rydes in February 2016 and has been giving rydes almost daily. He says he most enjoys getting to know each of his ryders, which makes the job more interesting for him. In his spare time, Bucephalus enjoys watching sunsets and playing Pokemon Go.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row\">\r\n        <div className=\"unicorn henry\">\r\n          <div className=\"columns medium-5 medium-push-7 large-6 large-push-6 xlarge-5 xlarge-offset-1 xlarge-push-5\">\r\n            <DynamicImage src=\"wr-unicorn-two.png\"/>\r\n          </div>\r\n          <div className=\"columns medium-7 medium-pull-5 large-6 large-pull-6 xlarge-5 xlarge-pull-5 xxlarge-4 xxlarge-offset-1\">\r\n            <h2 className=\"title\">Shadowfox</h2>\r\n            <div className=\"subtitle\">Brown Jersey</div>\r\n            <p className=\"content\">\r\n              Shadowfox joined Wild Rydes after completing a distinguished career in the military, where he toured the world in many critical missions. Shadowfox enjoys impressing his ryders with magic tricks that he learned from his previous owner.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row\">\r\n        <div className=\"unicorn veronica\">\r\n          <div className=\"columns medium-5 large-6 xlarge-5 xlarge-offset-1\">\r\n            <DynamicImage src=\"wr-unicorn-three.png\"/>\r\n          </div>\r\n          <div className=\"columns medium-7 large-6 xlarge-5 xxlarge-4\">\r\n            <h2 className=\"title\">Rocinante</h2>\r\n            <div className=\"subtitle\">Baby Flying Yellowback</div>\r\n            <p className=\"content\">\r\n              Rocinante recently joined the Wild Rydes team in Madrid, Spain. She was instrumental in forming Wild Rydes’ Spanish operations after a long, distinguished acting career in windmill shadow-jousting.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n    <SiteFooter/>\r\n  </div>\r\n);\r\n\r\nexport default Unicorns;\r\n","/*\r\n *   Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n\r\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\r\n *  You may not use this file except in compliance with the License.\r\n *  A copy of the License is located at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *  or in the \"license\" file accompanying this file. This file is distributed\r\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\r\n *  express or implied. See the License for the specific language governing\r\n *  permissions and limitations under the License.\r\n */\r\nimport React from 'react';\r\nimport SiteNav from '../components/SiteNav';\r\nimport SiteFooter from '../components/SiteFooter';\r\nimport { Auth } from 'aws-amplify';\r\nimport { S3Image } from 'aws-amplify-react';\r\nimport '../css/main.css';\r\n\r\nclass Profile extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: {\r\n                attributes: {\r\n                    email: 'me@example.com',\r\n                    phone_number: '+1123456789'\r\n                }\r\n            }\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        Auth.currentAuthenticatedUser().then(user => {\r\n            console.log('Cognito User', user);\r\n            this.setState({user, image_key: 'profile-' + user.attributes.sub + '.jpg'});\r\n        });;\r\n    }\r\n\r\n    async onImageLoad(url) {\r\n        console.error('onImageLoad is not yet implemented');\r\n    }\r\n\r\n    render() {\r\n      return (<div className=\"page-unicorns\">\r\n        <header className=\"site-header\">\r\n          <div>\r\n          {/* <S3Image imgKey={this.state.image_key} onLoad={(url) => this.onImageLoad(url)} picker/> */}\r\n    \t\t<table align=\"center\">\r\n    \t\t<tbody>\r\n             <tr>\r\n             <td>E-mail:</td>\r\n             <td>{this.state.user.attributes.email}</td>\r\n             </tr>\r\n              <tr>\r\n             <td>Phone:</td>\r\n             <td>{this.state.user.attributes.phone_number}</td>\r\n             </tr>\r\n             </tbody>\r\n            </table>\r\n    \t</div>\r\n          <SiteNav/>\r\n        </header>\r\n        <SiteFooter/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Profile;\r\n","/*\r\n *   Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n\r\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\r\n *  You may not use this file except in compliance with the License.\r\n *  A copy of the License is located at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *  or in the \"license\" file accompanying this file. This file is distributed\r\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\r\n *  express or implied. See the License for the specific language governing\r\n *  permissions and limitations under the License.\r\n */\r\nimport React from 'react';\r\nimport { Auth } from 'aws-amplify';\r\nimport DynamicImage from '../components/DynamicImage';\r\nimport { withRouter } from 'react-router-dom';\r\nimport SiteNav from '../components/SiteNav';\r\n\r\nimport '../css/app.css';\r\n\r\n/**\r\n * Sign-in Page\r\n */\r\nclass SignIn extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      stage: 0,\r\n      email: '',\r\n      password: '',\r\n      code: '',\r\n      userObject: null\r\n    };\r\n  }\r\n\r\n  async onSubmitForm(e) {\r\n    e.preventDefault();\r\n    try {\r\n        const userObject = await Auth.signIn(\r\n            this.state.email.replace(/[@.]/g, '|'),\r\n            this.state.password\r\n        );\r\n        console.log('userObject', userObject);\r\n        if (userObject.challengeName) {\r\n            // Auth challenges are pending prior to token issuance\r\n            this.setState({ userObject, stage: 1 });\r\n        } else {\r\n            // No remaining auth challenges need to be satisfied\r\n            const session = await Auth.currentSession();\r\n            // console.log('Cognito User Access Token:', session.getAccessToken().getJwtToken());\r\n            console.log('Cognito User Identity Token:', session.getIdToken().getJwtToken());\r\n            // console.log('Cognito User Refresh Token', session.getRefreshToken().getToken());\r\n            this.setState({ stage: 0, email: '', password: '', code: '' });\r\n            this.props.history.replace('/app');\r\n        }\r\n    } catch (err) {\r\n        alert(err.message);\r\n        console.error('Auth.signIn(): ', err);\r\n    }\r\n}\r\n\r\nasync onSubmitVerification(e) {\r\n  e.preventDefault();\r\n  try {\r\n      const data = await Auth.confirmSignIn(\r\n      this.state.userObject,\r\n      this.state.code\r\n      );\r\n      console.log('Cognito User Data:', data);\r\n      const session = await Auth.currentSession();\r\n      // console.log('Cognito User Access Token:', session.getAccessToken().getJwtToken());\r\n      console.log('Cognito User Identity Token:', session.getIdToken().getJwtToken());\r\n      // console.log('Cognito User Refresh Token', session.getRefreshToken().getToken());\r\n      this.setState({ stage: 0, email: '', password: '', code: '' });\r\n      this.props.history.replace('/app');\r\n  } catch (err) {\r\n      alert(err.message);\r\n      console.error('Auth.confirmSignIn(): ', err);\r\n  }\r\n}\r\n\r\n  onEmailChanged(e) {\r\n    this.setState({ email: e.target.value.toLowerCase() });\r\n  }\r\n\r\n  onPasswordChanged(e) {\r\n    this.setState({ password: e.target.value });\r\n  }\r\n\r\n  onCodeChanged(e) {\r\n    this.setState({ code: e.target.value });\r\n  }\r\n\r\n  isValidEmail(email) {\r\n    var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(String(email).toLowerCase());\r\n  }\r\n\r\n  renderSignIn() {\r\n    const isValidEmail = this.isValidEmail(this.state.email);\r\n    const isValidPassword = this.state.password.length > 1;\r\n\r\n    return (\r\n      <div className=\"app\">\r\n        <header>\r\n          <DynamicImage src=\"logo.png\"/>\r\n        </header>\r\n        <section className=\"form-wrap\">\r\n          <h1>Sign in</h1>\r\n          <SiteNav/>\r\n          <form id=\"registrationForm\" onSubmit={(e) => this.onSubmitForm(e)}>\r\n            <input className={isValidEmail?'valid':'invalid'} type=\"email\" placeholder=\"Email\" value={this.state.email} onChange={(e) => this.onEmailChanged(e)}/>\r\n            <input className={isValidPassword?'valid':'invalid'} type=\"password\" placeholder=\"Password\" value={this.state.password} onChange={(e) => this.onPasswordChanged(e)}/>\r\n            <input disabled={!(isValidEmail && isValidPassword)} type=\"submit\" value=\"Let's Ryde\"/>\r\n          </form>\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderConfirm() {\r\n    const isValidEmail = this.isValidEmail(this.state.email);\r\n    const isValidCode = this.state.code.length === 6;\r\n\r\n    return (\r\n      <div className=\"app\">\r\n        <header>\r\n          <DynamicImage src=\"logo.png\"/>\r\n        </header>\r\n        <section className=\"form-wrap\">\r\n          <h1>Enter MFA Code</h1>\r\n          <form id=\"verifyForm\" onSubmit={(e) => this.onSubmitVerification(e)}>\r\n            <input className={isValidEmail?'valid':'invalid'} type=\"email\" placeholder=\"Email\" value={this.state.email}/>\r\n            <input className={isValidCode?'valid':'invalid'} type=\"text\" placeholder=\"Verification Code\" value={this.state.code} onChange={(e) => this.onCodeChanged(e)}/>\r\n            <input disabled={!(isValidCode&&isValidEmail)} type=\"submit\" value=\"Verify\"/>\r\n          </form>\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n\r\n    switch (this.state.stage) {\r\n      case 0:\r\n      default:\r\n        return this.renderSignIn();\r\n      case 1:\r\n        return this.renderConfirm();\r\n    }\r\n  }\r\n}\r\nvar data = { type: \"FROM_PAGE\", text: \"Hello from the webpage!\" };\r\nwindow.postMessage(data, \"*\");\r\nexport default withRouter(SignIn);\r\n","/*\r\n *   Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n\r\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\r\n *  You may not use this file except in compliance with the License.\r\n *  A copy of the License is located at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *  or in the \"license\" file accompanying this file. This file is distributed\r\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\r\n *  express or implied. See the License for the specific language governing\r\n *  permissions and limitations under the License.\r\n */\r\nimport React from 'react';\r\nimport { Auth } from 'aws-amplify';\r\nimport DynamicImage from '../components/DynamicImage';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport '../css/app.css';\r\n\r\n/**\r\n * Registration Page\r\n */\r\nclass SignUp extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      stage: 0,\r\n      email: '',\r\n      phone: '',\r\n      genre: '',\r\n      password: '',\r\n      confirm: '',\r\n      code: ''\r\n    };\r\n  }\r\n\r\n  async onSubmitForm(e) {\r\n    e.preventDefault();\r\n    try {\r\n        const params = {\r\n            username: this.state.email.replace(/[@.]/g, '|'),\r\n            password: this.state.password,\r\n            attributes: {\r\n                email: this.state.email,\r\n                phone_number: this.state.phone,\r\n                'custom:genre': this.state.genre\r\n            },\r\n            validationData: []\r\n        };\r\n        const data = await Auth.signUp(params);\r\n        console.log(data);\r\n        this.setState({ stage: 1 });\r\n    } catch (err) {\r\n    if (err === \"No userPool\") {\r\n        // User pool not defined in Amplify config file\r\n        console.error(\"User Pool not defined\");\r\n        alert(\"User Pool not defined. Amplify config must be updated with user pool config\");\r\n    } else if (err.message === \"User already exists\") {\r\n        // Setting state to allow user to proceed to enter verification code\r\n        this.setState({ stage: 1 });\r\n    } else {\r\n        if (err.message.indexOf(\"phone number format\") >= 0) {err.message = \"Invalid phone number format. Must include country code. Example: +14252345678\"}\r\n        alert(err.message);\r\n        console.error(\"Exception from Auth.signUp: \", err);\r\n        this.setState({ stage: 0, email: '', password: '', confirm: '' });\r\n    }\r\n    }\r\n}\r\n\r\nasync onSubmitVerification(e) {\r\n  e.preventDefault();\r\n  try {\r\n      const data = await Auth.confirmSignUp(\r\n          this.state.email.replace(/[@.]/g, '|'),\r\n          this.state.code\r\n      );\r\n      console.log(data);\r\n      // Go to the sign in page\r\n      this.props.history.replace('/signin');\r\n  } catch (err) {\r\n      alert(err.message);\r\n      console.error(\"Exception from Auth.confirmSignUp: \", err);\r\n  }\r\n}\r\n\r\n  onEmailChanged(e) {\r\n    this.setState({ email: e.target.value.toLowerCase() });\r\n  }\r\n\r\n  onPhoneChanged(e) {\r\n    this.setState({ phone: e.target.value });\r\n  }\r\n  \r\n  onGenreChanged(e) {\r\n    this.setState({ genre: e.target.value.toLowerCase() });\r\n  }\r\n\r\n  onPasswordChanged(e) {\r\n    this.setState({ password: e.target.value });\r\n  }\r\n\r\n  onConfirmationChanged(e) {\r\n    this.setState({ confirm: e.target.value });\r\n  }\r\n\r\n  onCodeChanged(e) {\r\n    this.setState({ code: e.target.value });\r\n  }\r\n\r\n  isValidEmail(email) {\r\n    var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(String(email).toLowerCase());\r\n  }\r\n\r\n  renderSignUp() {\r\n    const isValidEmail = this.isValidEmail(this.state.email);\r\n    const isValidPassword = this.state.password.length > 1;\r\n    const isValidGenre = this.state.genre.length > 1;\r\n    const isValidConfirmation = isValidPassword && this.state.password === this.state.confirm;\r\n\r\n    return (\r\n      <div className=\"app\">\r\n        <header>\r\n          <DynamicImage src=\"logo.png\"/>\r\n        </header>\r\n        <section className=\"form-wrap\">\r\n          <h1>Register</h1>\r\n          <form id=\"registrationForm\" onSubmit={(e) => this.onSubmitForm(e)}>\r\n            <input className={isValidEmail?'valid':'invalid'} type=\"email\" placeholder=\"Email\" value={this.state.email} onChange={(e) => this.onEmailChanged(e)}/>\r\n            <input className='valid' type=\"phone\" placeholder=\"Phone\" value={this.state.phone} onChange={(e) => this.onPhoneChanged(e)}/>\r\n            <input className='valid' type=\"Genre\" placeholder=\"Genre\" value={this.state.genre} onChange={(e) => this.onGenreChanged(e)}/>\r\n            <input className={isValidPassword?'valid':'invalid'} type=\"password\" placeholder=\"Password\" value={this.state.password} onChange={(e) => this.onPasswordChanged(e)}/>\r\n            <input className={isValidConfirmation?'valid':'invalid'} type=\"password\" placeholder=\"Confirm Password\" value={this.state.confirm} onChange={(e) => this.onConfirmationChanged(e)}/>\r\n            <input disabled={!(isValidEmail && isValidPassword && isValidConfirmation)} type=\"submit\" value=\"Let's Ryde\"/>\r\n          </form>\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderConfirm() {\r\n    const isValidEmail = this.isValidEmail(this.state.email);\r\n    const isValidCode = this.state.code.length === 6;\r\n\r\n    return (\r\n      <div className=\"app\">\r\n        <header>\r\n          <DynamicImage src=\"logo.png\"/>\r\n        </header>\r\n        <section className=\"form-wrap\">\r\n          <h1>Verify Email</h1>\r\n          <form id=\"verifyForm\" onSubmit={(e) => this.onSubmitVerification(e)}>\r\n            <input className={isValidEmail?'valid':'invalid'} type=\"email\" placeholder=\"Email\" value={this.state.email}/>\r\n            <input className={isValidCode?'valid':'invalid'} type=\"text\" placeholder=\"Verification Code\" value={this.state.code} onChange={(e) => this.onCodeChanged(e)}/>\r\n            <input disabled={!(isValidCode&&isValidEmail)} type=\"submit\" value=\"Verify\"/>\r\n          </form>\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    switch (this.state.stage) {\r\n      case 0:\r\n      default:\r\n        return this.renderSignUp();\r\n      case 1:\r\n        return this.renderConfirm();\r\n    }\r\n  }\r\n}\r\n\r\nexport default withRouter(SignUp);\r\n","/*\r\n *   Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n\r\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\r\n *  You may not use this file except in compliance with the License.\r\n *  A copy of the License is located at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *  or in the \"license\" file accompanying this file. This file is distributed\r\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\r\n *  express or implied. See the License for the specific language governing\r\n *  permissions and limitations under the License.\r\n */\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom';\r\nimport { Home, FAQ, MainApp, Unicorns, Profile } from './pages';\r\nimport { SignIn, SignUp } from './auth';\r\nimport 'normalize.css';\r\nimport Amplify from 'aws-amplify';\r\nimport awsConfig from './amplify-config';\r\n\r\nAmplify.configure(awsConfig);\r\n\r\nconst isAuthenticated = () => Amplify.Auth.user !== null;\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={props => (\r\n    isAuthenticated() === true\r\n      ? <Component {...props} />\r\n      : <Redirect to='/signin' />\r\n  )} />\r\n)\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <BrowserRouter>\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Home}/>\r\n          <Route path=\"/faq\" component={FAQ} />\r\n          <Route path=\"/unicorns\" component={Unicorns} />\r\n          <Route path=\"/register\" component={SignUp} />\r\n\t        <Route path=\"/signin\" component={SignIn} />\r\n          <Route path=\"/profile\" component={Profile} />\r\n          <PrivateRoute path=\"/app\" component={MainApp} />\r\n        </Switch> \r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}